{"version":3,"sources":["../../../../src/db/sequelize/migrations/20170704162802-add_password_reset_meta_to_session.js"],"names":["module","exports","up","queryInterface","Sequelize","addColumn","type","INTEGER","allowNull","defaultValue","DATE","STRING","unique","down","removeColumn"],"mappings":"AAAA;;AAEAA,OAAOC,OAAP,GAAiB;AACfC,MAAI,YAAUC,cAAV,EAA0BC,SAA1B,EAAqC;AACvCD,mBAAeE,SAAf,CAAyB,UAAzB,EAAqC,yBAArC,EAAgE;AAC9DC,YAAMF,UAAUG,OAD8C;AAE9DC,iBAAW,KAFmD;AAG9DC,oBAAc;AAHgD,KAAhE;AAKAN,mBAAeE,SAAf,CAAyB,UAAzB,EAAqC,6BAArC,EAAoE;AAClEC,YAAMF,UAAUM,IADkD;AAElEF,iBAAW;AAFuD,KAApE;AAIAL,mBAAeE,SAAf,CAAyB,UAAzB,EAAqC,sBAArC,EAA6D;AAC3DC,YAAMF,UAAUO,MAD2C;AAE3DH,iBAAW,IAFgD;AAG3DI,cAAQ;AAHmD,KAA7D;AAKD,GAhBc;;AAkBfC,QAAM,cAAUV,cAAV,EAA0BC,SAA1B,EAAqC;AACzCD,mBAAeW,YAAf,CAA4B,UAA5B,EAAwC,yBAAxC;AACAX,mBAAeW,YAAf,CAA4B,UAA5B,EAAwC,6BAAxC;AACAX,mBAAeW,YAAf,CAA4B,UAA5B,EAAwC,sBAAxC;AACD;AAtBc,CAAjB","file":"20170704162802-add_password_reset_meta_to_session.js","sourcesContent":["'use strict';\n\nmodule.exports = {\n  up: function (queryInterface, Sequelize) {\n    queryInterface.addColumn('Sessions', 'password_reset_attempts', {\n      type: Sequelize.INTEGER,\n      allowNull: false,\n      defaultValue: 0,\n    })\n    queryInterface.addColumn('Sessions', 'last_password_reset_attempt', {\n      type: Sequelize.DATE,\n      allowNull: true,\n    })\n    queryInterface.addColumn('Sessions', 'supplied_reset_email', {\n      type: Sequelize.STRING,\n      allowNull: true,\n      unique: true,\n    })\n  },\n\n  down: function (queryInterface, Sequelize) {\n    queryInterface.removeColumn('Sessions', 'password_reset_attempts')\n    queryInterface.removeColumn('Sessions', 'last_password_reset_attempt')\n    queryInterface.removeColumn('Sessions', 'supplied_reset_email')\n  }\n};\n"]}